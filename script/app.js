"use strict";const canvas=document.getElementById("previewCanvas"),downloadBtn=document.getElementById("download-img"),width_Value=document.getElementById("width"),height_Value=document.getElementById("height"),text_color=document.getElementById("text_color"),text_color_2=document.getElementById("text_color-2"),bg_color=document.getElementById("bg_color"),bg_color_2=document.getElementById("bg_color-2"),text_value=document.getElementById("text_value"),font_size=document.getElementById("font_size"),img_type=document.getElementById("image-type");function imgGenerator(e){e.preventDefault();const t=width_Value.value/2,n=height_Value.value/2;canvas.width=width_Value.value,canvas.height=height_Value.value;let l=getPlaceholderName(text_value);text_value.value=l;let a=canvas.getContext("2d");a.fillStyle=bg_color.value,a.fillRect(0,0,width_Value.value,height_Value.value),a.font=font_size.value+"px Arial",a.fillStyle=text_color.value,a.textAlign="center",a.fillText(l,t,n);let o=canvas.toDataURL(`image/${img_type.value}`);downloadBtn.href=o,downloadBtn.download=`deepart_${l}`}function colorHashPreview(e){let t=e.target,n=colorValidation(t.value),l=n.includes("#")?n:"#"+n;t.value=l,t.nextElementSibling.value=l}function colorCodePreview(e){let t=e.target;t.previousElementSibling.value=t.value}function colorValidation(e){let t="";if(""===e);else if(3===e.length)for(let n=0;n<3;n++)for(let l=0;l<2;l++)t+=e[n];return t}function getPlaceholderName(e){const t=e;return t.value=t.value?t.value:`${width_Value.value}x${height_Value.value}`,t.value}function setPlaceholerDimention(){text_value.value=`${width_Value.value}x${height_Value.value}`}text_color.addEventListener("change",colorHashPreview),bg_color.addEventListener("change",colorHashPreview),text_color_2.addEventListener("input",colorCodePreview),bg_color_2.addEventListener("input",colorCodePreview),width_Value.addEventListener("change",imgGenerator),height_Value.addEventListener("change",imgGenerator),font_size.addEventListener("change",imgGenerator),text_color.addEventListener("change",imgGenerator),bg_color.addEventListener("change",imgGenerator),text_color_2.addEventListener("change",imgGenerator),bg_color_2.addEventListener("change",imgGenerator),text_value.addEventListener("change",imgGenerator),img_type.addEventListener("change",imgGenerator),width_Value.addEventListener("input",setPlaceholerDimention),height_Value.addEventListener("input",setPlaceholerDimention),window.addEventListener("load",imgGenerator);